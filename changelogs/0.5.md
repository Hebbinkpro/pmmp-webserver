# Changelogs v0.5

## v0.5.0

This release brings performance improvements, better HTTP/1.1 compliance and a few new features.

- Partial rewrite of `HttpServer` and `HttpClient`
    - Moved most client logic in `HttpServer` to `HttpClient`
    - Implemented HTTP/1.1 compliant Keep-Alive, including timout and max requests.
    - Complete HTTP Request handler overhaul, instead of waiting until a request is completed the request will now be
      constructed using the available buffer data and wait for new data until the request is complete.
        - Added `http\message\builder\HttpRequestBuilder`
        - Integrated `HttpRequestBuilder` into `HttpClient`
    - Changes to the handling of sockets to make it less CPU and resource intensive
    - Added more http request validation methods, including more size constraints (Added in `HttpConstants`)

- Created `SimpleThreadSafeLogger` and `PrefixedThreadSafeLogger`, thread safe logger classes based upon PMMP's
  `SimpleLogger` and `PrefixedLogger`.
    - Added logging to the main Server logger in the `HttpServer`, including error and debug logs that show if clients
      connect.

- Changed `HttpServerInfo`
    - Added options `keepAliveTimeout` and `keepAliveMax` for customizable Keep-Alive settings
    - Let `getScheme()` return `http` or `https` again
        - `getAddress()` now returns `[scheme]://[host]:[port]` where `[scheme]` is `http` or `https` instead of `tcp`
    - Added `getSocketBindAddress()` which returns `tcp://[host]:[port]`, as replacement for the previous `getAddress()`

- `HttpServer` is now a singleton instance INSIDE an HttpServer thread
    - Added `HttpServer::getInstance()`, which is only available INSIDE an HttpServer thread (e.g. only in request
      action functions). Calling this function in a thread other than the WebServer thread results in a `LogicException`

